<!DOCTYPE html>
<html>
<head>
  <title>Candidate Application Form</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <style>
    body { font-family: Arial, sans-serif; background: #f5f7fa; margin: 0; padding: 0; }
    .form-container { max-width: 700px; margin: 30px auto; background: #fff; padding: 20px; border-radius: 10px; box-shadow: 0 3px 8px rgba(0,0,0,0.1); }
    h2 { text-align: center; color: #0a3d62; }
    label { display: block; margin-top: 12px; font-weight: bold; }
    input, select, textarea { width: 100%; padding: 8px; margin-top: 5px; border: 1px solid #ccc; border-radius: 5px; }
    button { margin-top: 20px; padding: 12px; width: 100%; background: #0a3d62; color: #fff; font-size: 16px; border: none; border-radius: 5px; cursor: pointer; }
    button:hover { background: #074171; }
    .file-upload { display: none; }
    .upload-label { display: inline-block; padding: 10px 15px; background: #0984e3; color: #fff; border-radius: 5px; cursor: pointer; margin-top: 10px; }
    .upload-label:hover { background: #0652dd; }
    /* Success Screen */
    .success-screen { display: none; text-align: center; padding: 40px; }
    .success-icon { font-size: 70px; color: green; margin-bottom: 20px; }
    .success-screen h2 { color: #2d3436; }
    .success-screen p { color: #636e72; font-size: 18px; }
    .redirect-note { margin-top: 15px; color: #636e72; font-size: 14px; }
    /* Header Section */
    .profile-header { position: relative; }
    .cover-container { width: 100%; height: 200px; overflow: hidden; }
    .cover-image { width: 100%; height: auto; }
    .profile-info { display: flex; align-items: center; padding: 15px; }
    .logo-wrapper { margin-right: 15px; }
    .logo-image { width: 70px; height: 70px; border-radius: 50%; object-fit: cover; }
    .company-details h2 { margin: 0; color: #0a3d62; }
    .company-details p { margin: 0; color: #636e72; }
  </style>
</head>
<body>

<!-- ‚úÖ Header with Cover + Logo -->
<header class="profile-header">
  <div class="cover-container">
    <img src="straffing_com_cover.jpeg" alt="Cover Image" class="cover-image">
  </div>
  <div class="profile-info">
    <div class="logo-wrapper">
      <img src="straffing_com_logo.jpeg" alt="Company Logo" class="logo-image">
    </div>
    <div class="company-details">
      <h2>Straffing AI</h2>
      <p>#StraffingAI</p>
    </div>
  </div>
</header>

<!-- ‚úÖ Form -->
<div class="form-container" id="formContainer">
  <h2>Candidate Application Form</h2>
  
  <form id="candidateForm" enctype="multipart/form-data">
    <h3>Personal Information</h3>
    <label>Email *</label>
    <input type="email" name="email" required>

    <label>Full Name *</label>
    <input type="text" name="fullName" required>

    <label>Personal Email ID *</label>
    <input type="email" name="personalEmail" required>

    <label>Mobile Number *</label>
    <input type="tel" name="mobile" pattern="[0-9]{10}" required>

    <label>Age *</label>
    <input type="number" name="age" required>

    <label>Highest Qualification *</label>
    <input type="text" name="qualification" required>

    <label>City *</label>
    <input type="text" name="city" required>

    <label>State *</label>
    <input type="text" name="state" required>

    <label>District *</label>
    <input type="text" name="district" required>

    <h3>Work Experience</h3>
    <label>Total Years of Field-Sales Experience *</label>
    <input type="number" name="yrs_field_sales" required>

    <label>Relevant Experience (Steel / Building Materials) *</label>
    <input type="number" name="yrs_relevant" required>

    <label>Current Job Title *</label>
    <input type="text" name="job_title" required>

    <label>Current Employer *</label>
    <input type="text" name="employer" required>

    <label>Dealer / Distributor Network Size *</label>
    <input type="number" name="network_size" required>

    <h3>Additional Information</h3>
    <label>Current CTC (‚Çπ per annum) *</label>
    <input type="number" name="current_ctc" required>

    <label>Expected CTC (‚Çπ per annum) *</label>
    <input type="number" name="expected_ctc" required>

    <label>Notice Period *</label>
    <select name="notice_period" required>
      <option value="">--Select--</option>
      <option value="Immediate">Immediate</option>
      <option value="15 days">15 days</option>
      <option value="30 days">30 days</option>
      <option value="60 days">60 days</option>
      <option value="More than 60 days">More than 60 days</option>
    </select>

    <label>Willingness to Travel Inside Territory *</label>
    <select name="travel_willingness" required>
      <option value="">--Select--</option>
      <option value="Yes">Yes</option>
      <option value="No">No</option>
    </select>

    <label>Major Sales Achievements *</label>
    <textarea name="sales_achievements" required></textarea>

    <label>LinkedIn Profile URL</label>
    <input type="url" name="linkedin">

    <h3>Languages</h3>
    <label>Fluency in Languages *</label>
    <input type="text" name="other_languages" placeholder="e.g. Hindi, English" required>

    <h3>Upload CV</h3>
    <input type="file" name="cv" id="cv" accept="application/pdf" class="file-upload" required>
    <label for="cv" class="upload-label">üìÇ Upload CV (PDF)</label>

    <button type="submit">Submit Application</button>
  </form>
</div>

<!-- ‚úÖ Success Screen -->
<div class="form-container success-screen" id="successScreen">
  <div class="success-icon">‚úÖ</div>
  <h2>Application Submitted!</h2>
  <p>Thank you for applying. Your details have been recorded successfully.</p>
  <p class="redirect-note">Redirecting in 5 seconds...</p>
  <button onclick="resetForm()">Submit Another Application</button>
</div>

<script>
  const scriptURL = "https://script.google.com/macros/s/AKfycbyVyUJXQa8mjFkCgnpami_-DyhKsBO77ZUEPHEzKLayItyjD_MHalNdm23GlSFVDwAIYw/exec";
  const redirectURL = "https://straffing.com/"; 

  document.getElementById("candidateForm").addEventListener("submit", async e => {
    e.preventDefault();
    const formData = new FormData(e.target);

    try {
      const res = await fetch(scriptURL, {
        method: "POST",
        body: formData
      });

      const json = await res.json();
      if (json.result === "success") {
        document.getElementById("formContainer").style.display = "none";
        document.getElementById("successScreen").style.display = "block";
        e.target.reset();

        // üîÅ Auto redirect after 5 sec
        setTimeout(() => {
          window.location.href = redirectURL;
        }, 5000);

      } else {
        alert("‚ùå Error: " + json.message);
      }
    } catch (err) {
      alert("‚ùå Network Error: " + err.message);
    }
  });

  function resetForm() {
    document.getElementById("successScreen").style.display = "none";
    document.getElementById("formContainer").style.display = "block";
  }
</script>

</body>
</html>
